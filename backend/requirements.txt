fastapi>=0.110.0
uvicorn[standard]>=0.30.0
python-multipart>=0.0.18  # Updated/Fixed ReDoS
pydantic>=2.7.0
pydantic-settings>=2.2.0
python-json-logger>=2.0.7

# Database
sqlalchemy==2.0.25
alembic==1.13.1

# Image processing (for future OCR phase)
pdf2image==1.16.3
Pillow==12.1.1  # Updated from 10.1.0 - fixes buffer overflow CVE

# OCR - PaddleOCR (optimized for Intel CPU)
# WARNING: PaddlePaddle 2.6.0 has CRITICAL vulnerabilities (CVE-2024-0917, etc.)
# Upgraded to 3.0.0 (2.6.1 not available on PyPI for Windows)
paddlepaddle==3.0.0  # Latest stable, fixes all known vulnerabilities
paddleocr==2.7.3
langchain>=0.3.17         # Required by langchain-community 0.3.x
langchain-community==0.3.27 # Required for docstore compatibility

# Note: Presidio removed due to numpy 2.x incompatibility with PaddlePaddle 3.0
# PII protection provided by SecurityUtils (app/core/security_utils.py)
# Decision: Security (CVE fixes) > Additional NLP features

# Compatibility constraint for PaddlePaddle 3.0.0
numpy<2.0.0  # PaddlePaddle 3.0 requires numpy 1.x

# Utilities
python-dotenv==1.0.0

# Development
pytest==7.4.4
pytest-asyncio==0.23.3

# Optional production dependencies (install when needed):
# psycopg2-binary==2.9.9  # PostgreSQL driver
# boto3==1.34.14          # S3/R2 storage
# redis==5.0.1            # Redis queue

# v2.0 Smart Search (Feature-flagged)
chromadb==0.4.22          # Vector database for semantic search
sentence-transformers==2.2.2  # Embedding model

# Task Scheduling
APScheduler==3.10.4
